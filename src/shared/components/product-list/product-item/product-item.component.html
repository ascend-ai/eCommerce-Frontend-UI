<div class="position-relative mx-auto border product-card"
     (mouseenter)="changeDisplayImage(product)"
     (mouseleave)="resetDisplayImage(product)"
     (click)="viewProduct()">
  <div class="badge bg-info text-white position-absolute product-card-badge">
    {{ product.category | capitalize:'_' }}
  </div>
  <div class="img-fluid product-card-img"
       [style.backgroundImage]="product.displayImage.url | backgroundImage"></div>
  <div class="card-body d-flex flex-column justify-content-end align-items-center p-4 product-card-body">
    <h5 class="card-title mb-2">
      <strong>
        {{ product.name }}
      </strong>
    </h5>
    <p class="card-subtitle mb-2">
      <span *ngIf="isDiscountAvailable"
            class="text-muted text-decoration-line-through">
        {{ product.maxRetailPrice | inr }}
      </span>
      <span class="ms-2 fs-5">
        {{ product.sellingPrice | inr }}
      </span>
      <small *ngIf="isDiscountAvailable"
            class="text-danger">
        {{ discountPercentage }}
      </small>
    </p>
    <ng-container *ngIf="product.quantityInStock > 0; else outOfStock">
      <button class="btn btn-outline-primary"
              (click)="addProductToCard($event)">
        Add to Cart
      </button>
    </ng-container>
    <ng-template #outOfStock>
      <div (click)="$event.stopPropagation()">
        <button class="btn btn-outline-warning disabled">
          Out of Stock
        </button>
      </div>
    </ng-template>
  </div>
</div>
